# =============================================================================
# PRODUCT MANAGEMENT SYSTEM - ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains all environment variables for the entire microservices
# architecture. Copy this file to .env and update values as needed.

# =============================================================================
# GENERAL APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
LOG_LEVEL=info

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=admin
DB_DATABASE=products_db

# =============================================================================
# SERVICE PORTS
# =============================================================================
# Core Service (Product Management API)
CORE_SERVICE_PORT=3000

# Analytics Service (Event Processing)
ANALYTICS_SERVICE_PORT=3003

# Notification Service (Real-time Notifications)
NOTIFICATION_SERVICE_PORT=3001

# Frontend Dashboard
FRONTEND_PORT=3002
VITE_API_URL=http://localhost:3000
VITE_NOTIFICATION_URL=http://localhost:3001

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=products-service
KAFKA_GROUP_ID_ANALYTICS=analytics-service
KAFKA_GROUP_ID_NOTIFICATION=notification-service
KAFKA_TOPIC=product-events

# =============================================================================
# DYNAMODB CONFIGURATION (Analytics Service)
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=dummy
AWS_SECRET_ACCESS_KEY=dummy
DYNAMODB_TABLE_NAME=product-analytics
DYNAMODB_ENDPOINT=http://localhost:8000

# =============================================================================
# S3 CONFIGURATION (MinIO for Analytics Archival)
# =============================================================================
S3_ENDPOINT=http://localhost:9000
S3_HISTORICAL_BUCKET=analytics-historical
S3_ARCHIVE_BUCKET=analytics-archive

# =============================================================================
# INFRASTRUCTURE SERVICES
# =============================================================================
# PostgreSQL
POSTGRES_DB=products_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=admin

# Kafka Infrastructure
ZOOKEEPER_CLIENT_PORT=2181
ZOOKEEPER_TICK_TIME=2000
KAFKA_BROKER_ID=1
KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181
KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092
KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1
KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=1
KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1
KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS=0
KAFKA_JMX_PORT=9101
KAFKA_JMX_HOSTNAME=localhost

# Kafka UI
KAFKA_CLUSTERS_0_NAME=local
KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka:29092
KAFKA_CLUSTERS_0_ZOOKEEPER=zookeeper:2181
KAFKA_UI_PORT=8081

# DynamoDB Local
AWS_DEFAULT_REGION=us-east-1

# MinIO (S3-compatible storage)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
# - For local development, most values can remain as shown above
# - AWS credentials are set to 'dummy' for DynamoDB Local
# - All services use localhost for external connections
# - Internal Docker network connections use service names (kafka:29092, etc.)
# - Ports are mapped to avoid conflicts with other services
